import{d as H,Z as N,i as f,y as M,H as I,B as b,o as l,c as p,b as o,w as s,a as t,q as i,t as c,h as j,g,F as L,s as R,n as V,f as x,r as n}from"./app.bcb0820c.js";import{P as J}from"./PsLayout.28577d6c.js";import{u as O}from"./Validators.cb85894a.js";import{P as U}from"./PsInput.096bf606.js";import{P as Z}from"./PsLabel.ba854ae6.js";import{P as A}from"./PsButton.6e47777c.js";import{P as G}from"./PsTextarea.f8e79b57.js";import{P as K}from"./PsLabelHeader4.6bd3b47b.js";import{P as Q}from"./PsLabelCaption.e61a7806.js";import{P as W}from"./PsCheckbox.1fc0a8ee.js";import{P as X}from"./PsCheckboxValue.d67e394b.js";import{P as Y}from"./PsBreadcrumb2.c24fe59b.js";import{P as ee}from"./PsDropdown.d345be0d.js";import{P as te}from"./PsDropdownSelect.65e73a6d.js";import{P as oe}from"./PsIcon.71b0e9da.js";import{P as se}from"./PsLoading.9d8c0dd0.js";import{P as re}from"./PsTooltip.e7dc1603.js";import{P as ne}from"./PsTooltips.80e7944d.js";import{P as ae}from"./PsLoadingCircleDialog.1c2df66f.js";import{P as le}from"./PsSuccessDialog.c18e6651.js";import{_ as ie}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsDangerDialog.45064bba.js";import"./PsModal.fccd5c23.js";import"./vue-neat-modal.bb68220d.js";import"./PsToggle.6d7ca6c8.js";import"./toggle.2d374629.js";import"./PsWarningDialog.89df77bf.js";import"./index.esm.159b9749.js";import"./auth.esm.925cebae.js";import"./SidebarMenuItem.73b90a8b.js";import"./SidebarSubTab.1a8b9e94.js";import"./PsErrorDialog.d3e814f0.js";import"./PsInputWithRightIcon.29f20201.js";import"./PsBannerIcon.6e4a09ea.js";import"./PsIcon1.4226e037.js";import"./Icons.80b46b2b.js";const de=H({name:"Edit",components:{PsIcon:oe,PsLoading:se,Head:N,PsInput:U,PsLabel:Z,PsButton:A,PsTextarea:G,PsLabelHeader4:K,PsLabelCaption:Q,PsCheckbox:W,PsCheckboxValue:X,PsBreadcrumb2:Y,PsDropdown:ee,PsDropdownSelect:te,PsTooltips:ne,PsTooltip:re,PsLoadingCircleDialog:ae,PsSuccessDialog:le},layout:J,props:["errors","status","backend_setting","vendor_subscription"],setup(e){const a=f(!1),v=f(!1),y=f(),$=f();f(e.frontendColors);const{isEmpty:E}=O(),S=(_,C)=>{e.errors[_]=C?"":E(_,C)},h=[{label:"core__be_vendor_feature_on_off",docu:"https://doc.clickup.com/24312566/p/h/q5yqp-175202/4fc3a8c00ffc0ba"},{label:"core__lang_refresh_setting",docu:"https://doc.clickup.com/24312566/p/h/q5yqp-175242/5c613e184364a09"},{label:"core__be_subscriptions_setting",docu:"https://doc.clickup.com/24312566/p/h/q5yqp-179742/8be0d3082e8aac6"}],k=f(h[0].label),u=f(h[0].docu);function P(_){k.value=_.label,u.value=_.docu}let D=JSON.parse(e.vendor_subscription.ref_selection),d=JSON.parse(e.vendor_subscription.setting);const m=M(I({vendor_setting:e.backend_setting.vendor_setting==1,vendor_subscription:d.subscription_plan[0].id,_method:"put"}));console.log(m.vendor_subscription);function w(_){this.$inertia.post(route("vendor_setting.update",_),m,{forceFormData:!0,onBefore:()=>{a.value=!0},onSuccess:()=>{a.value=!1,v.value=!0,setTimeout(()=>{v.value=!1},1e3)},onError:()=>{a.value=!1}})}function q(){this.$inertia.get(route("vendor_setting.languageRefresh"),{key:"refresh"},{onBefore:()=>{y.value.openModal(b("core__be_updating_title"),b("core__be_lang_refreshing_desc"))},onSuccess:()=>{},onError:()=>{y.value.closeModal()}})}function B(){$.value.openModal(b("core__be_awesome_title"),b("core__be_lang_refresh_success_desc"),b("core__be_btn_back"),()=>{},!0)}return{handleSubmit:w,validateEmptyInput:S,form:m,title:k,settingColumn:h,changeSection:P,loading:a,success:v,docu:u,handleFeLangRefresh:q,ps_loading_circle_dialog:y,langRefreshSuccessDialog:B,ps_success_dialog:$,ref_subscriptions:D}},computed:{breadcrumb(){return[{label:b("core__be_dashboard_label"),url:route("admin.index")},{label:b("vendor_setting_module"),color:"text-primary-500"}]}},mounted(){this.status.flag=="langSuccess"&&this.langRefreshSuccessDialog()}}),ce={class:"bg-background dark:bg-secondaryDark-black rounded-lg"},_e={class:"bg-primary-50 dark:bg-primary-900"},pe={class:"bg-primary-50 flex items-center dark:bg-primary-900 py-2.5 ps-4 rounded-t-lg"},ue={class:"h-8 flex items-center"},me=i(" For more details: "),fe=["href"],be={class:"grid grid-cols-1 md:grid-cols-2 gap-2 mt-4"},ge={key:0,class:"grid grid-rows gap-6 ms-4"},he={class:"px-4 pt-3"},ve={class:"flex items-center"},ye=i(" For more details: "),ke=t("a",{target:"_blank",href:"https://doc.clickup.com/24312566/p/h/q5yqp-175222/be600340120429c",class:"underline"},"Refer to this doc",-1),Pe={class:"px-4 pb-3"},we={key:1,class:"grid grid-rows gap-6 ms-4"},Ce={class:"rounded-xl"},xe={class:"mt-6"},$e={class:""},Se={class:"border border-1 rounded p-4"},De={class:"h-auto"},qe={class:"flex flex-row justify-start mt-6"},Be={key:2,class:"grid grid-rows gap-6 ms-4"},Le={class:"px-4 py-3"},Ee={class:"px-4 py-3 flex items-center"},Fe={class:"rounded-md shadow-xs"},Re={class:"pt-2 z-30"},Ve=["onClick"],ze={class:"flex flex-row justify-end mt-6 mb-2.5"},Te={class:"px-4"},He=["onClick"];function Ne(e,a,v,y,$,E){const S=n("Head"),h=n("ps-breadcrumb-2"),k=n("ps-label-header-6"),u=n("ps-icon"),P=n("ps-tooltip"),D=n("ps-checkbox-value"),d=n("ps-label"),m=n("ps-button"),w=n("ps-card"),q=n("ps-dropdown-select"),B=n("ps-dropdown"),_=n("ps-loading"),C=n("ps-loading-circle-dialog"),z=n("ps-success-dialog"),T=n("ps-layout");return l(),p(L,null,[o(S,{title:e.$t("vendor_setting_module")},null,8,["title"]),o(T,null,{default:s(()=>[o(h,{items:e.breadcrumb,class:"mb-5 sm:mb-6 lg:mb-8"},null,8,["items"]),o(w,{class:"w-full h-auto"},{default:s(()=>[t("div",ce,[t("div",_e,[t("div",pe,[o(k,{textColor:"text-secondary-800 dark:text-secondary-100"},{default:s(()=>[i(c(e.$t(e.title)),1)]),_:1}),o(P,{tooltiptext:"absolute z-50 bottom-full ms-0.5"},{content:s(()=>[t("div",ue,[o(u,{name:"info",w:"20",h:"20",class:"ms-2.5 transition-all duration-300 text-primary-500"})])]),tooltips:s(()=>[me,t("a",{target:"_blank",href:e.docu,class:"underline"},"Refer to this doc",8,fe)]),_:1})])]),t("form",{onSubmit:a[3]||(a[3]=j(r=>e.handleSubmit(this.backend_setting.id),["prevent"]))},[t("div",be,[t("div",null,[e.title==e.settingColumn[0].label?(l(),p("div",ge,[t("div",he,[t("div",ve,[o(D,{value:e.form.vendor_setting,"onUpdate:value":a[0]||(a[0]=r=>e.form.vendor_setting=r),class:"font-normal",title:e.$t("core__be_is_vendor_feature_on")},null,8,["value","title"]),o(P,{tooltiptext:"absolute z-50 bottom-full mb-2 -ms-2.5"},{content:s(()=>[o(u,{name:"info",w:"20",h:"20",class:"-ms-1 transition-all duration-300 text-primary-500"})]),tooltips:s(()=>[ye,ke]),_:1})])]),t("div",Pe,[o(d,{class:"ms-2 text-xs",textColor:"text-secondary-400"},{default:s(()=>[i(c(e.$t("core__be_vendor_feature_on_off_desc")),1)]),_:1})])])):g("",!0),e.title==e.settingColumn[1].label?(l(),p("div",we,[o(w,{class:"w-full h-auto"},{default:s(()=>[t("div",Ce,[t("div",xe,[t("div",$e,[t("div",Se,[t("div",De,[t("div",null,[o(d,{class:"dark:text-white text-secondary-800 font-normal"},{default:s(()=>[i(c(e.$t("fe_lang_refresh_desc")),1)]),_:1})]),t("div",qe,[o(m,{type:"button",onClick:a[1]||(a[1]=r=>e.handleFeLangRefresh()),rounded:"rounded",class:"flex flex-wrap items-center"},{default:s(()=>[o(u,{name:"refresh",class:"me-2 font-semibold"}),o(d,{textColor:"text-white dark:text-secondary-800"},{default:s(()=>[i(c(e.$t("core__be_lang_refresh")),1)]),_:1})]),_:1})])])])])])])]),_:1})])):g("",!0),e.title==e.settingColumn[2].label?(l(),p("div",Be,[t("div",Le,[t("div",Ee,[o(d,{class:"text-base"},{default:s(()=>[i(c(e.$t("core__be_subscription_setting")),1)]),_:1})]),o(B,{align:"left",class:"lg:mt-2 mt-1 w-full"},{select:s(()=>[o(q,{placeholder:e.$t("core__be_select_subscription_plan"),selectedValue:e.form.vendor_subscription==""?"":e.ref_subscriptions.subscription_plans.filter(r=>r.id==e.form.vendor_subscription)[0].value},null,8,["placeholder","selectedValue"])]),list:s(()=>[t("div",Fe,[t("div",Re,[(l(!0),p(L,null,R(e.ref_subscriptions.subscription_plans,(r,F)=>(l(),p("div",{key:F,class:"flex py-4 px-2 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center",onClick:Me=>[e.form.vendor_subscription=r.id]},[o(d,{class:V(["ms-2",r.id==e.form.vendor_subscription?" font-bold":""])},{default:s(()=>[i(c(r.value),1)]),_:2},1032,["class"])],8,Ve))),128))])])]),_:1})])])):g("",!0),t("div",ze,[o(m,{onClick:a[2]||(a[2]=r=>e.handleCancel()),textSize:"text-base",type:"reset",class:"me-4",colors:"text-primary-500",focus:"",hover:""},{default:s(()=>[i(c(e.$t("core__be_btn_cancel")),1)]),_:1}),o(m,{class:"transition-all duration-300 min-w-3xs",padding:"px-7 py-2",rounded:"rounded",hover:"",focus:""},{default:s(()=>[e.loading?(l(),x(_,{key:0,theme:"border-2 border-t-2 border-text-8 border-t-primary-500",loadingSize:"h-5 w-5"})):g("",!0),e.success?(l(),x(u,{key:1,name:"check",w:"20",h:"20",class:"me-1.5 transition-all duration-300"})):g("",!0),e.success?(l(),x(d,{key:2,class:"transition-all duration-300",textColor:"text-white dark:text-secondaryDark-black"},{default:s(()=>[i(c(e.$t("core__be_btn_saved")),1)]),_:1})):g("",!0),!e.loading&&!e.success?(l(),x(d,{key:3,textColor:"text-white dark:text-secondaryDark-black"},{default:s(()=>[i(c(e.$t("core__be_btn_save")),1)]),_:1})):g("",!0)]),_:1})])]),t("div",Te,[(l(!0),p(L,null,R(e.settingColumn,r=>(l(),p("div",{key:r.id},[t("div",{onClick:F=>e.changeSection(r),class:V([e.title==r.label?"border-l border-s-primary-500":"border-l border-s-secondary-300","px-2 py-3 cursor-pointer"])},[o(d,{textColor:e.title==r.label?"text-primary-500 dark:text-primary-500":"text-secondary-800 dark:text-white"},{default:s(()=>[i(c(e.$t(r.label)),1)]),_:2},1032,["textColor"])],10,He)]))),128))])])],32)])]),_:1}),o(C,{ref:"ps_loading_circle_dialog"},null,512),o(z,{ref:"ps_success_dialog"},null,512)]),_:1})],64)}var wt=ie(de,[["render",Ne]]);export{wt as default};
