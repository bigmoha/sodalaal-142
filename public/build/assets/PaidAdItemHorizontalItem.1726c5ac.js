import M from"./PsLabel.f618b059.js";import q from"./PaidAdItemPaidStatus.8d98a1bc.js";import W from"./PsCard.748116f2.js";import J from"./PsIcon.c315e2a2.js";import K from"./PsRouteLink.e985dbfe.js";import Q from"./PsLoadingDialog.9586f261.js";import{i as T,o as g,c as N,a,b as s,w as n,m as V,n as X,q as f,t as o,f as z,g as D,F as Y,B as j,O as Z,r as v,E as $}from"./app.bcb0820c.js";import{f as ee}from"./format.min.378730c4.js";import{P as L}from"./ps_constants.115f3686.js";import{P as te,u as ae}from"./PaidAdItemStore.beaa3f99.js";import{P as G}from"./PsValueStore.db7005b9.js";import{u as ie}from"./PsValueHolder.00f22b51.js";import{u as oe}from"./AppInfoStore.e1ca82ff.js";import{u as re}from"./FavouriteItemStore.f5a1d999.js";import{A as se}from"./AppInfoParameterHolder.e24d894d.js";import{h as ne}from"./moment.9709ab41.js";import{_ as me}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsLabelCaption.c39c43ba.js";import"./PsModal.b5929b7c.js";import"./vue-neat-modal.bb68220d.js";import"./PsLine.115a33c3.js";import"./PsLabelTitle.529f301f.js";import"./PsApiService.664f5104.js";import"./PsObject.a17ef38f.js";import"./Product.ccea159e.js";import"./DefaultPhoto.cc755f93.js";import"./Category.7c65464b.js";import"./DefaultIcon.e76b39a5.js";import"./SubCategory.1b4176e0.js";import"./ItemLocationTownship.94979fe0.js";import"./ProductRelation.4bf64f0e.js";import"./User.450a868b.js";import"./RatingDetail.291ad5d1.js";import"./Vendor.c037b10d.js";import"./PsSepetetedStore.9a31ac47.js";const de={name:"PaidAdItemHorizontalItem",components:{PsLabel:M,PsCard:W,PsRouteLink:K,PsIcon:J,PaidAdItemPaidStatus:q,PsLoadingDialog:Q},props:{paiditem:{type:te},onClick:Function},setup(){var F,x,h;G.psValueStore=ie();const t=ae(),y=G(),e=re(),i=y.getLoginUserId(),R=new se;R.userId=i;const m=oe(),C=T(!1);((h=(x=(F=m==null?void 0:m.appInfo)==null?void 0:F.data)==null?void 0:x.mobileSetting)==null?void 0:h.is_show_owner_info)=="1"&&(C.value=!0);const r=T();function A(p){var S,w,b,I,k,d,l,u;if(p.toString()=="0")return j("item_price__free");if(((w=(S=m.appInfo.data)==null?void 0:S.psAppSetting)==null?void 0:w.SelectedPriceType)==L.PRICE_RANGE){const c=parseFloat(p),_=parseInt(c);return _>5?"$".repeat(5):_<1?"$".repeat(1):"$".repeat(_)}else return((k=(I=(b=m==null?void 0:m.appInfo)==null?void 0:b.data)==null?void 0:I.mobileSetting)==null?void 0:k.price_format)==="###,###"?new Intl.NumberFormat("en-FR",{style:"decimal",useGrouping:!0,minimumFractionDigits:0}).format(p).replace(","," "):ee((u=(l=(d=m==null?void 0:m.appInfo)==null?void 0:d.data)==null?void 0:l.mobileSetting)==null?void 0:u.price_format,p)}async function P(p){i&&i!=L.NO_LOGIN_USER?(r.value.openModal(),p.isFavourited=="1"?r.value.message=j("item_detail__removing_item_from_favourite"):r.value.message=j("item_detail__adding_item_to_favourite"),await e.postFavourite(p.id,i),await U(),r.value.closeModal()):Z.get(route("login"))}async function U(){await t.refleshPaidAdItemList(i)}return{itempaidProvider:t,formatPrice:A,psValueStore:y,PsConst:L,appInfoStore:m,favouriteClicked:P,ps_loading_dialog:r,showProfile:C,moment:ne}}},le={class:"relative"},ce={class:"overflow-hidden lg:h-56 h-36 w-full"},fe={alt:"Placeholder",class:"overflow-hidden transform transition duration-500 hover:scale-110 block object-cover w-screen lg:h-56 h-36",width:"640px",height:"360px"},pe={class:"flex items-center gap-2"},_e={class:"grow ms-1"},ue={class:"float-end"},ge={class:"grow ms-3"},xe={class:"float-end"},he={class:"grow ms-1"},ve={key:0,class:"pt-1 pb-2 flex items-center justify-between leading-none px-2 rounded-b-xl lg:rounded-b-2xl"},ye={class:"flex flex-row relative items-center no-underline text-feAchromatic-900"},Pe={alt:"Placeholder",class:"rounded-full bg-transparent lg:w-8 lg:h-8 w-6 h-6 flex items-center justify-center object-cover",width:"50px",height:"50px"},Se={class:"ms-2 mt-1 text-sm flex-grow"},we={class:"flex flex-row w-full"},be={key:0,class:"pt-1 pb-2 flex flex-row items-center no-underline justify-between text-feAchromatic-900 leading-none px-2 rounded-b-xl lg:rounded-b-2xl"},Ie={class:"relative"},ke={alt:"Placeholder",class:"rounded-full bg-transparent lg:w-8 lg:h-8 w-6 h-6 flex items-center justify-center object-cover",width:"50px",height:"50px"},Ce={key:0,class:"w-3 h-3 bg-feInfo-500 rounded-full flex justify-center items-center absolute bottom-0 right-0"},Ae={class:"flex truncate text-xs text-feSecondary-800 dark:text-feSecondary-300"},Fe={class:"font-light text-xs text-feSecondary-500 dark:text-feSecondary-500"};function Ne(t,y,e,i,R,m){const C=v("paid-ad-item-paid-status"),r=v("ps-label"),A=v("ps-icon"),P=v("ps-route-link"),U=v("ps-card"),F=v("ps-loading-dialog"),x=$("lazy");return g(),N(Y,null,[a("div",{class:"cursor-pointer sm:w-full md:w-full",onClick:y[0]||(y[0]=h=>e.onClick!=null?e.onClick(e.paiditem):null)},[s(U,{class:"lg:rounded-lg rounded-lg shadow-sm relative z-0",enabledHover:!0},{default:n(()=>{var h,p,S,w,b,I,k;return[s(P,{to:{name:"fe_item_detail",query:{item_id:e.paiditem.item.id}}},{default:n(()=>{var d,l;return[a("div",le,[a("div",ce,[V(a("img",fe,null,512),[[x,{src:t.$page.props.thumb2xUrl+"/"+e.paiditem.item.defaultPhoto.imgPath,loading:t.$page.props.sysImageUrl+"/loading_gif.gif",error:t.$page.props.sysImageUrl+"/default_photo.png"}]])]),s(C,{status:e.paiditem?e.paiditem.paidStatus:""},null,8,["status"])]),a("div",{class:X([i.showProfile?"pb-0":"pb-2","pt-2 px-2 flex flex-col gap-2"])},[s(r,{textColor:"text-feSecondary-600 dark:text-feSecondary-200 text-sm"},{default:n(()=>[f(o(e.paiditem.item.title),1)]),_:1}),((l=(d=i.appInfoStore.appInfo.data)==null?void 0:d.psAppSetting)==null?void 0:l.SelectedPriceType)!=i.PsConst.NO_PRICE?(g(),z(r,{key:0,textColor:"font-semibold text-fePrimary-500 text-base"},{default:n(()=>{var u,c;return[f(o(e.paiditem&&((c=(u=i.appInfoStore.appInfo.data)==null?void 0:u.psAppSetting)==null?void 0:c.SelectedPriceType)=="NORMAL_PRICE"?e.paiditem.item.itemCurrency.currencySymbol:"")+" "+o(i.formatPrice(e.paiditem?e.paiditem.item.price:"")),1)]}),_:1})):D("",!0),a("div",pe,[s(A,{name:"location",w:"14",h:"14",viewBox:"0 0 14 14"}),s(r,{textColor:"text-feSecondary-600 dark:text-feSecondary-200 text-sm"},{default:n(()=>[f(o(e.paiditem.item.itemLocation.name),1)]),_:1})]),s(r,{textColor:"flex items-center text-feSecondary-600 dark:text-feSecondary-200 text-sm sm:text-xs md:text-sm"},{default:n(()=>[f(o(t.$t("paid_item_horizontal_item__start"))+" ",1),a("span",_e,[f(": "+o(e.paiditem?i.moment(e.paiditem.startDate.split(" ")[0]).format(t.$page.props.dateFormat):"")+" ",1),a("span",ue,o(e.paiditem?e.paiditem.startDate.split(" ")[1]:""),1)])]),_:1}),s(r,{textColor:"flex items-center text-feSecondary-600 dark:text-feSecondary-200 text-sm sm:text-xs md:text-sm"},{default:n(()=>[f(o(t.$t("paid_item_horizontal_item__end"))+" ",1),a("span",ge,[f(": "+o(e.paiditem?i.moment(e.paiditem.endDate.split(" ")[0]).format(t.$page.props.dateFormat):"")+" ",1),a("span",xe,o(e.paiditem?e.paiditem.endDate.split(" ")[1]:""),1)])]),_:1}),s(r,{textColor:"flex items-center text-feSecondary-600 dark:text-feSecondary-200 text-sm sm:text-xs md:text-sm"},{default:n(()=>[f(o(t.$t("paid_item_horizontal_item__total_spending"))+" ",1),a("span",he,": "+o(e.paiditem?e.paiditem.item.itemCurrency.currencySymbol:"")+" "+o(e.paiditem?e.paiditem.amount:""),1)]),_:1})],2)]}),_:1},8,["to"]),((h=i.appInfoStore)==null?void 0:h.isVendorSettingOn())&&((S=(p=e.paiditem.item)==null?void 0:p.vendor)==null?void 0:S.id)!=""?(g(),z(P,{key:0,to:{name:"fe_vendor_info",params:{vendorId:(b=(w=e.paiditem.item)==null?void 0:w.vendor)==null?void 0:b.id}}},{default:n(()=>{var d,l,u;return[i.showProfile?(g(),N("div",ve,[a("div",ye,[V(a("img",Pe,null,512),[[x,{src:t.$page.props.thumb1xUrl+"/"+((u=(l=(d=e.paiditem.item)==null?void 0:d.vendor)==null?void 0:l.logo)==null?void 0:u.imgPath),loading:t.$page.props.sysImageUrl+"/loading_gif.gif",error:t.$page.props.sysImageUrl+"/default_vendor_shop.png"}]])]),a("p",Se,[a("div",we,[s(r,{class:"text-xs",textColor:"text-feSecondary-800 dark:text-feSecondary-300"},{default:n(()=>{var c,_,E,O,B,H;return[f(o(((_=(c=e.paiditem.item)==null?void 0:c.vendor)==null?void 0:_.name.length)>24?((O=(E=e.paiditem.item)==null?void 0:E.vendor)==null?void 0:O.name.slice(0,24))+" ...":(H=(B=e.paiditem.item)==null?void 0:B.vendor)==null?void 0:H.name),1)]}),_:1}),s(r,{class:"p-1 ms-2 text-xxs rounded-sm bg-feWarning-500",textColor:"text-feAchromatic-50"},{default:n(()=>[f(o(t.$t("core_fe__vendor_indicator")),1)]),_:1})]),s(r,{class:"font-light text-xs",textColor:"text-feSecondary-500 dark:text-feSecondary-500"},{default:n(()=>{var c,_;return[f(o((c=e.paiditem.item)!=null&&c.vendor?i.moment((_=e.paiditem.item)==null?void 0:_.vendor.addedDate).format(t.$page.props.dateFormat):""),1)]}),_:1})])])):D("",!0)]}),_:1},8,["to"])):(g(),z(P,{key:1,to:{name:"fe_other_profile",params:{userId:(k=(I=e.paiditem.item)==null?void 0:I.user)==null?void 0:k.userId}}},{default:n(()=>{var d,l;return[i.showProfile?(g(),N("div",be,[a("div",Ie,[V(a("img",ke,null,512),[[x,{src:t.$page.props.thumb1xUrl+"/"+((l=(d=e.paiditem.item)==null?void 0:d.user)==null?void 0:l.userCoverPhoto),loading:t.$page.props.sysImageUrl+"/loading_gif.gif",error:t.$page.props.sysImageUrl+"/default_photo.png"}]]),e.paiditem.item.user.isVerifybluemark=="1"?(g(),N("div",Ce,[s(A,{name:"bluemark",textColor:"text-feSecondary-50",w:"8",h:"8"})])):D("",!0)]),s(r,{class:"ms-2 mt-1 text-sm flex-grow"},{default:n(()=>[a("span",Ae,o(e.paiditem.item.user.userName.length>12?e.paiditem.item.user.userName.slice(0,12)+" ...":e.paiditem.item.user.userName),1),a("span",Fe,o(e.paiditem.item?i.moment(e.paiditem.item.addedDate).format(t.$page.props.dateFormat):""),1)]),_:1})])):D("",!0)]}),_:1},8,["to"]))]}),_:1})]),s(F,{ref:"ps_loading_dialog"},null,512)],64)}var ft=me(de,[["render",Ne]]);export{ft as default};
