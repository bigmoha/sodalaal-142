import x from"./PsLabel.f618b059.js";import P from"./ShareToSocialModal.b0fe3b55.js";import v from"./PsConfirmDialog.e09010a6.js";import N from"./PsErrorDialog.d884287b.js";import{u as R}from"./ProductStore.53a7e111.js";import{u as b}from"./ReportedItemStore.491637d6.js";import{P as y}from"./ps_constants.115f3686.js";import{i as f,o as g,c as h,a as D,b as s,w as S,q as C,t as U,g as M,F as w,B as a,O as k,r as m}from"./app.bcb0820c.js";import{P as B}from"./PsUtils.eb7a8002.js";import{b as E}from"./PsApiService.664f5104.js";import{_ as O}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsModal.b5929b7c.js";import"./vue-neat-modal.bb68220d.js";import"./PsLine.115a33c3.js";import"./PsLabelTitle.529f301f.js";import"./PsButton.2af859b4.js";import"./PsLink.dea1f7ef.js";import"./PsSuccessDialog.ac3ef60a.js";import"./PsIcon.c315e2a2.js";import"./ProductParameterHolder.e481cecf.js";import"./Product.ccea159e.js";import"./PsObject.a17ef38f.js";import"./DefaultPhoto.cc755f93.js";import"./Category.7c65464b.js";import"./DefaultIcon.e76b39a5.js";import"./SubCategory.1b4176e0.js";import"./ItemLocationTownship.94979fe0.js";import"./ProductRelation.4bf64f0e.js";import"./User.450a868b.js";import"./RatingDetail.291ad5d1.js";import"./Vendor.c037b10d.js";import"./ApiStatus.5720ba0b.js";import"./UserDeleteItemParameterHolder.5d816aba.js";import"./PsSepetetedStore.9a31ac47.js";class V{constructor(){this.itemId="",this.reportedUserId=""}reportItemHolder(){this.itemId="",this.reportedUserId=""}toMap(){const e={};return e.item_id=this.itemId,e.reported_user_id=this.reportedUserId,e}}const H={name:"ItemDetailShareAndReport",components:{PsLabel:x,ShareToSocialModal:P,PsConfirmDialog:v,PsErrorDialog:N},props:{loginUserId:null,itemId:null,itemName:String},setup(t){const e=R("detail"),n=b(),o=new V,l=f(),d=f(),r=f();function p(i){l.value.openModal(i,t.itemId,t.itemName)}function _(){t.loginUserId&&t.loginUserId!=y.NO_LOGIN_USER?d.value.openModal(a("item_detail__confirm"),a("item_detail__confirm_to_report_item"),a("item_detail__report"),a("item_detail__cancel"),()=>{c()},()=>{B.log("Cancel")}):k.get(route("login"))}async function c(){o.itemId=t.itemId,o.reportedUserId=t.loginUserId;const i=await n.addReportItem(t.loginUserId,o);i.status==E.SUCCESS?k.get(route("dashboard")):r.value.openModal(i.message)}return{productStore:e,shareClicked:p,reportItemClicked:_,share_modal:l,ps_confirm_dialog:d,ps_error_dialog:r}}},L={class:"flex items-center gap-7 self-end"},A={key:0};function F(t,e,n,o,l,d){const r=m("ps-label"),p=m("share-to-social-modal"),_=m("ps-confirm-dialog"),c=m("ps-error-dialog");return g(),h(w,null,[D("div",L,[s(r,{textColor:"text-sm text-feInfo-500 cursor-pointer",onClick:e[0]||(e[0]=i=>{var u,I;return o.shareClicked((I=(u=o.productStore.item)==null?void 0:u.data)==null?void 0:I.dynamicLink)})},{default:S(()=>[C(U(t.$t("item_detail__share")),1)]),_:1}),o.productStore.isUserItem(n.loginUserId)?M("",!0):(g(),h("div",A,[s(r,{textColor:"text-sm text-fePrimary-500 cursor-pointer",onClick:o.reportItemClicked},{default:S(()=>[C(U(t.$t("item_detail__report_this_ad")),1)]),_:1},8,["onClick"])]))]),s(p,{ref:"share_modal"},null,512),s(_,{ref:"ps_confirm_dialog"},null,512),s(c,{ref:"ps_error_dialog"},null,512)],64)}var Ut=O(H,[["render",F]]);export{Ut as default};
