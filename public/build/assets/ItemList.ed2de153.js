import{i as w,j as q,k as j,B as p,o as n,f as a,w as O,a as i,b as o,g as m,c as z,T as K,r}from"./app.bcb0820c.js";import Q from"./PsContentContainer.baf5d5b4.js";import W from"./PsLoadingDialog.9586f261.js";import J from"./PsAdSense.9b378c33.js";import X from"./PsFrontendLayout.c6e64cf5.js";import Y from"./PsBreadcrumb2.ae081895.js";import Z from"./ItemFilterCategoryDropdown.1a6d43ea.js";import $ from"./ItemFilterSubCategoryDropdown.19d4e429.js";import oo from"./ItemFilterDiscountSection.5c49fcfd.js";import to from"./ItemFilterStockSection.fdba44b0.js";import eo from"./ItemFilterPriceRangeInput.d37ccf3d.js";import ro from"./ItemFilterCustomFieldSection.d13bd375.js";import io from"./ItemFilterCityDropdown.14cd25be.js";import no from"./ItemFilterTownshipDropdown.31d91065.js";import ao from"./ItemFilterPickLocationButton.78adfa8b.js";import mo from"./ItemFilterItemVerticalList.75c654ca.js";import so from"./ItemFilterSortAndTypeSection.6bf36fe1.js";import po from"./ItemFilterTitle.29807ff7.js";import lo from"./ItemFilterKeywordInput.12b4fb9f.js";import co from"./ItemFilterMobileFilterButton.5a55af26.js";import _o from"./ItemFilterClearButton.19233a1e.js";import uo from"./PsLabel.f618b059.js";import{u as fo}from"./ProductStore.53a7e111.js";import{P as ho}from"./PsValueStore.db7005b9.js";import{u as yo}from"./AppInfoStore.e1ca82ff.js";import{P as g}from"./ps_constants.115f3686.js";import{P as go}from"./ProductParameterHolder.e481cecf.js";import{A as bo}from"./AppInfoParameterHolder.e24d894d.js";import{P as wo}from"./PsUtils.eb7a8002.js";import{_ as Po}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsModal.b5929b7c.js";import"./vue-neat-modal.bb68220d.js";import"./PsLine.115a33c3.js";import"./PsLabelTitle.529f301f.js";import"./PsApiService.664f5104.js";import"./PsObject.a17ef38f.js";import"./DefaultPhoto.cc755f93.js";import"./FooterView.68cf7b8a.js";import"./FooterLinkSection.3f744e23.js";import"./PsLink.dea1f7ef.js";import"./PsRouteLink.e985dbfe.js";import"./PsLabelCaption.c39c43ba.js";import"./PsIcon.c315e2a2.js";import"./PsNavTabBar.0d828f1e.js";import"./PsDropdown.b0f6436e.js";import"./PsDropdownSelect.1e4537ad.js";import"./PsIconToggle.b913bae4.js";import"./PsInputWithLeftIcon.432593fa.js";import"./LocationModal.5b725b64.js";import"./PsButton.2af859b4.js";import"./LocationParameterHolder.df629adc.js";import"./ItemLocationTownship.94979fe0.js";import"./PsSepetetedStore.9a31ac47.js";import"./ItemLocationTownshipStore.652895d4.js";import"./PsNavBar.f99c6cb9.js";import"./UserStore.6fc60c2b.js";import"./User.450a868b.js";import"./RatingDetail.291ad5d1.js";import"./ProductRelation.4bf64f0e.js";import"./UserListParameterHolder.d110b747.js";import"./ApiStatus.5720ba0b.js";import"./index.esm.159b9749.js";import"./auth.esm.925cebae.js";import"./UserUnReadMessageParameterHolder.9d1f58f0.js";import"./PsConfirmDialog.e09010a6.js";import"./PsNotificationBox.5b80e886.js";import"./Product.ccea159e.js";import"./Category.7c65464b.js";import"./DefaultIcon.e76b39a5.js";import"./SubCategory.1b4176e0.js";import"./Vendor.c037b10d.js";import"./UserDeleteItemParameterHolder.5d816aba.js";import"./NotificationStore.2c3becfc.js";import"./NotiUnRegisterHolder.eefb692e.js";import"https://unpkg.com/delayed-scroll-restoration-polyfill@0.1.1/index.js";import"./CategoryStore.3a2fd25c.js";import"./PsStore.dc51d097.js";import"./SubCategoryStore.25a27fcf.js";import"./PsIcon.71b0e9da.js";import"./Icons.80b46b2b.js";import"./PsRadio.8a89bc8f.js";import"./PsInput.e94383d0.js";import"./PsErrorDialog.d884287b.js";import"./CustomFieldStore.ad94a411.js";import"./CustomizeUiStore.c4750726.js";import"./PsSecondaryButton.917c2995.js";import"./MapWithMakersModal.aae670a0.js";import"./MapWithMakers.8562ccdb.js";import"./Control.Geocoder.863fa98d.js";import"./PsInputWithRightIcon.2791a941.js";const So={name:"ItemListView",components:{PsBreadcrumb2:Y,PsContentContainer:Q,PsLoadingDialog:W,PsAdSense:J,CategoryDropDown:Z,SubCategoryDropDown:$,DiscountSection:oo,StockSection:to,PriceRangeInput:eo,CustomFieldSection:ro,CityDropdown:io,TownshipDropdown:no,PickLocationButton:ao,ItemVerticalList:mo,SortAndTypeSection:so,ItemFilterTitle:po,KeywordInput:lo,MobileFilterButton:co,ClearButton:_o,PsLabel:uo},layout:X,props:["query"],setup(P){const t=fo("list"),b=yo(),e=ho(),l=w(),s=w(!0),d=new bo;t.paramHolder.parseParamsAndQuery(P.query),q(async()=>{d.userId=e.getLoginUserId(),b.loadAppInfo(d),setTimeout(async()=>{window.popStateDetected?(s.value=!1,window.popStateDetected=!1):(s.value==!0&&t.itemList.data==null&&l.value.openModal(),(t.paramHolder.orderBy!=g.FILTERING_TRENDING||t.paramHolder.orderType!=g.FILTERING__DESC)&&(t.paramHolder.sortingName=="Recent",t.paramHolder.orderBy==g.FILTERING__ADDED_DATE,t.paramHolder.orderType==g.FILTERING__DESC),await _())},1e3)}),j(()=>{t.paramHolder=new go().getRecentParameterHolder()});async function _(){l.value.openModal(),(t.paramHolder.mile=="0"||t.paramHolder.mile.toString()=="")&&(t.paramHolder.lat="",t.paramHolder.lng=""),wo.addParamToCurrentUrl(t.getURLforListByParam(t.paramHolder)),await t.resetProductList(e.getLoginUserId(),t.paramHolder),l.value.closeModal(),s.value=!1,console.log(t.itemList.data.length)}const c=w("downArrow");function u(h,y){c.value="upArrow"}function f(h,y){c.value="downArrow"}return{ps_loading_dialog:l,itemProvider:t,appInfoStore:b,enter:u,leave:f,initial:s}},computed:{breadcrumb(){return this.itemProvider.paramHolder.catName&&this.itemProvider.paramHolder.subCatName?[{label:p("item_detail__home"),url:route("dashboard")},{label:p("category_list__title"),url:route("fe_category.index")},{label:this.itemProvider.paramHolder.catName,url:route("fe_sub_category",{cat_id:this.query.cat_id,cat_name:this.query.cat_name})},{label:this.itemProvider.paramHolder.subCatName,color:"text-fePrimary-500"}]:this.itemProvider.paramHolder.catName?[{label:p("item_detail__home"),url:route("dashboard")},{label:p("category_list__title"),url:route("fe_category.index")},{label:this.itemProvider.paramHolder.catName,color:"text-fePrimary-500"}]:[{label:p("item_detail__home"),url:route("dashboard")},{label:p("fe__search_result"),color:"text-fePrimary-500"}]}}},vo={class:"sm:mt-32 lg:mt-36 mt-28"},Io={class:"flex flex-col sm:flex-row"},xo={class:"flex flex-row sm:mt-0 mt-6"},ko={class:"relative mt-4 sm:mt-10 flex flex-row"},Lo={class:"w-64 me-7 hidden sm:flex flex-col shadow-md dark:bg-feSecondary-800 h-full p-4 rounded-lg"},No={class:"w-full"},Ho={class:"flex flex-row justify-end"},Do={class:"flex flex-row"},Co={class:"sm:block hidden"},To={class:"sm:hidden block"},Ao={key:0,class:"flex justify-between sm:hidden flex-col absolute top-10 right-[40px]"},Bo={class:"flex flex-col w-68 p-8 h-auto bg-feAchromatic-50 dark:bg-feSecondary-800 shadow-xl rounded-lg"},Eo={class:"mx-auto"};function Fo(P,t,b,e,l,s){const d=r("ps-breadcrumb-2"),_=r("clear-button"),c=r("category-drop-down"),u=r("discount-section"),f=r("stock-section"),h=r("price-range-input"),y=r("custom-field-section"),S=r("city-dropdown"),v=r("township-dropdown"),I=r("pick-location-button"),x=r("keyword-input"),k=r("sort-and-type-section"),R=r("mobile-filter-button"),U=r("item-vertical-list"),V=r("ps-ad-sense"),G=r("ps-loading-dialog"),M=r("ps-content-container");return n(),a(M,null,{content:O(()=>{var L,N,H,D,C,T;return[i("div",vo,[i("div",Io,[i("div",xo,[o(d,{items:s.breadcrumb},null,8,["items"])])]),i("div",ko,[i("div",Lo,[o(_),o(c),(L=e.appInfoStore)!=null&&L.isShowDiscount()?(n(),a(u,{key:0})):m("",!0),o(f),(N=e.appInfoStore)!=null&&N.isNoPriceSettingOn()?m("",!0):(n(),a(h,{key:1})),o(y),o(S),(H=e.appInfoStore)!=null&&H.isShowSubLocation()?(n(),a(v,{key:2})):m("",!0),(D=e.appInfoStore)!=null&&D.isFilterLocationOn()?(n(),a(I,{key:3})):m("",!0)]),i("div",No,[i("div",Ho,[i("div",Do,[o(x,{class:"sm:block hidden mx-3"}),i("div",Co,[o(k,{isNoPriceSettingOn:(C=e.appInfoStore)==null?void 0:C.isNoPriceSettingOn()},null,8,["isNoPriceSettingOn"])]),o(R)])]),o(x,{class:"sm:hidden mb-4 mt-3 sm:mb-0"}),i("div",To,[o(k,{isNoPriceSettingOn:(T=e.appInfoStore)==null?void 0:T.isNoPriceSettingOn()},null,8,["isNoPriceSettingOn"])]),o(U,{initial:e.initial},null,8,["initial"])]),e.itemProvider.showPopUpFilter?(n(),z("div",Ao,[o(K,{onEnter:e.enter,onLeave:e.leave},{default:O(()=>{var A,B,E,F;return[i("div",Bo,[o(_),o(c,{class:"mb-12"}),(A=e.appInfoStore)!=null&&A.isShowDiscount()?(n(),a(u,{key:0})):m("",!0),o(f,{spaceWrap:!1}),(B=e.appInfoStore)!=null&&B.isNoPriceSettingOn()?m("",!0):(n(),a(h,{key:1})),o(y),o(S),(E=e.appInfoStore)!=null&&E.isShowSubLocation()?(n(),a(v,{key:2})):m("",!0),(F=e.appInfoStore)!=null&&F.isFilterLocationOn()?(n(),a(I,{key:3})):m("",!0)])]}),_:1},8,["onEnter","onLeave"])])):m("",!0)])]),i("div",Eo,[o(V,{adFormat:"horizontal"})]),o(G,{ref:"ps_loading_dialog",class:"z-40"},null,512)]}),_:1})}var be=Po(So,[["render",Fo],["__scopeId","data-v-291138ee"]]);export{be as default};
